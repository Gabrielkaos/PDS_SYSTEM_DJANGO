{% extends 'pds_app/create_form.html' %}


{% block content %}

<h2>Work Experience</h2>
<form method="post" class="educational-background-form">
    {% csrf_token %}
    <table id="work-experience-table" class="educational-table">
        <thead>
            <tr>
                <th class="educational-table-header">From</th>
                <th class="educational-table-header">To</th>
                <th class="educational-table-header">Position Title</th>
                <th class="educational-table-header">Department/Agency/Office/Company</th>
                <th class="educational-table-header">Monthly Salary</th>
                <th class="educational-table-header">Salary Grade & STEP</th>
                <th class="educational-table-header">Status of Appointment</th>
                <th class="educational-table-header">Govt Service (Y/N)</th>
                <th class="educational-table-header">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><input type="date" name="from_date[]" required></td>
                <td><input type="date" name="to_date[]" required></td>
                <td><input type="text" name="position_title[]" placeholder="Position Title" required></td>
                <td><input type="text" name="department[]" placeholder="Department/Agency/Office/Company" required></td>
                <td><input type="number" name="monthly_salary[]" placeholder="Monthly Salary" required></td>
                <td><input type="text" name="salary_grade[]" placeholder="Salary Grade & STEP" required></td>
                <td><input type="text" name="status_of_appointment[]" placeholder="Status of Appointment" required></td>
                <td>
                    <select name="govt_service[]" required>
                        <option value="Y">Yes</option>
                        <option value="N">No</option>
                    </select>
                </td>
                <td><button type="button" class="delete-row-btn" onclick="deleteRow(this)">Delete</button></td>
            </tr>
        </tbody>
    </table>
    <button type="button" class="add-row-btn" onclick="addRow()">Add Row</button>
    <br><br>
    <button type="submit" class="submit-btn">Next</button>
</form>
<script>
    function addRow() {
        const table = document.getElementById('work-experience-table');
        const newRow = table.insertRow(-1);

        const columns = [
            '<input type="date" name="from_date[]" required>',
            '<input type="date" name="to_date[]" required>',
            '<input type="text" name="position_title[]" placeholder="Position Title" required>',
            '<input type="text" name="department[]" placeholder="Department/Agency/Office/Company" required>',
            '<input type="number" name="monthly_salary[]" placeholder="Monthly Salary" required>',
            '<input type="text" name="salary_grade[]" placeholder="Salary Grade & STEP" required>',
            '<input type="text" name="status_of_appointment[]" placeholder="Status of Appointment" required>',
            '<select name="govt_service[]" required><option value="Y">Yes</option><option value="N">No</option></select>',
            '<button type="button" class="delete-row-btn" onclick="deleteRow(this)">Delete</button>'
        ];

        columns.forEach((col, index) => {
            const cell = newRow.insertCell(index);
            cell.innerHTML = col;
        });
    }

    function deleteRow(button) {
        const row = button.parentNode.parentNode;
        row.parentNode.removeChild(row);
    }
</script>
{% endblock content %}